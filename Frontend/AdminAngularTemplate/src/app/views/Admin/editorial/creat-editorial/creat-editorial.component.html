<mat-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <ng-template matStepLabel>Seleccionar blogs importantes</ng-template>
    <c-card style="margin-top: 2%;" class="mb-4">
      <c-card-header>
        <strong style="text-align: center; display: flex; justify-content: center;">Editorial RC5 #</strong>
      </c-card-header>
      <c-card-body>
        <c-row>
          <c-col [md]="6">
            <label cLabel for="basic-url">Referente al blog</label>
            <c-input-group class="mb-4">
              <input aria-describedby="basic-addon2" aria-label="Este es un título del blog..." cFormControl
                placeholder="Texto referente al blog..." [(ngModel)]="search" (ngModelChange)="dataPaginate($event)"
                id="search" name="search" />
              <span cInputGroupText id="basic-addon2"><svg cIcon class="me-2" name="cilSearch"></svg>Buscar</span>
            </c-input-group>
          </c-col>
          <c-col [md]="6">
            <label cLabel for="basic-url">Categoría del blog</label>
            <select [(ngModel)]="categorie_id" (ngModelChange)="cargarLitBlog(categorie_id)" aria-label="Categoria"
              cSelect class="mb-3">
              <option [value]="">Todas las categorías</option>
              <option *ngFor="let item of listCateg" [ngValue]="item.id">{{item.categorianame}}</option>
            </select>
          </c-col>
        </c-row>

        <mat-checkbox class="example-margin" [checked]="allCompleteBlog" color="primary"
          [indeterminate]="someCompleteBlog()" (change)="setAllBlog($event.checked)">
          Marcar todas
        </mat-checkbox>
        <c-row [gutter]="4" class="mb-4" [lg]="2" [md]="1" [xs]="1">
          <c-col *ngFor="let item of listBlog | filtroCreateEditorial:search | paginate:{itemsPerPage: tableSize,
                      currentPage: page,
                      totalItems : count,
                      id: 'paginado'
                      }">
            <c-card *ngIf="item._blogtitulo" class="mb-1">
              <c-card-header class="text-medium-emphasis"
                style="display: flex; justify-content: space-between; align-items: center">
                <span>{{item._categorianame}} </span>
                <mat-checkbox [(ngModel)]="item.completed" color="primary" (ngModelChange)="updateAllCompleteBlog()">
                </mat-checkbox>
              </c-card-header>
              <c-card-body>
                <h5 cCardTitle>{{item._blogtitulo}}</h5>
                <p cCardText>
                  {{item._blogdescripcion}}
                </p>
              </c-card-body>
              <c-card-footer class="text-medium-emphasis"
                style="display: flex; justify-content: space-between; align-items: center;">
                <button (click)="blogGet(item._id)" cButton color="primary" variant="outline">Ver</button>
                <span style="font-size: 15px;">{{item._created_at}}</span>
              </c-card-footer>
            </c-card>
            <c-alert *ngIf="!item._blogtitulo" color="danger">No existen lista de blogs {{nameCat}}!</c-alert>
          </c-col>
        </c-row>
        <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)"
        [autoHide]="true" id="paginado">
      </pagination-controls>
        <div>
          <button mat-flat-button color="primary" matStepperNext>Siguiente</button>
        </div>
      </c-card-body>
    </c-card>
  </mat-step>

  <mat-step [stepControl]="secondFormGroup" label="Ordenar blogs">
    <form style="margin-top: 2%;" [formGroup]="secondFormGroup">
      <c-row cdkDropList class="example-list" (cdkDropListDropped)="drop($event)" [gutter]="4" class="mb-4" [lg]="1" [md]="1" [xs]="1">
        <c-col cdkDrag *ngFor="let item of listBlog | paginate:{itemsPerPage: tableSize,
                    currentPage: page,
                    totalItems : count,
                    id: 'paginado'
                    }">
          <c-card *ngIf="item._blogtitulo" class="mb-1">
            <c-card-header class="text-medium-emphasis">
              <span style="display: flex; align-items: center; justify-content: center;">{{item._categorianame}} </span>
            </c-card-header>
            <c-card-body>
              <h5 cCardTitle cdkDragPlaceholder>{{item._blogtitulo}}</h5>
              <p cCardText>
                {{item._blogdescripcion}}
              </p>
            </c-card-body>
          </c-card>
          <c-alert *ngIf="!item._blogtitulo" color="danger">No existen lista de blogs {{nameCat}}!</c-alert>
        </c-col>
      </c-row>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step>
    <ng-template matStepLabel>Hecho</ng-template>
    <p>You are now done.</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-stepper>

<c-modal backdrop="static" id="staticBackdropModal" size="lg" [visible]="visible"
  (visibleChange)="handleLiveDemoChange($event)" scrollable> <!--Modal de editar cuenta Asambleista-->

  <c-modal-header>
    <h5 cModalTitle>Blog {{categoria}}</h5>
    <button (click)="clear();toggleLiveDemo()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <ng-container>
      <div class="container">
        <img *ngIf="urlGet" [src]="urlGet" alt="Descripción de la imagen">
      </div>
      <br>
      {{blogtitulo}} <br>
      {{blogdescripcion}} <br>
      <div [innerHTML]="blogcontenido"></div>
    </ng-container>

  </c-modal-body>
</c-modal>

<ngx-spinner type="ball-scale-multiple"></ngx-spinner>